import React from "react"
import {
  View,
  Text,
  StyleSheet,
  Pressable,
} from "react-native"
import { useNavigation, NavigationProp } from "@react-navigation/native"
import { RootStackParamList } from "../constants"
import { NativeStackHeaderProps } from "@react-navigation/native-stack"
import Svg, { Line, Path } from "react-native-svg"

const UserIcon = ({ fill, size }) => (
  <Svg width={size} height={size} viewBox="0 0 160 160" fill={fill}>
    <Path d="M79.1694 34.8789C73.585 34.8789 68.126 36.5836 63.4827 39.7774C58.8394 42.9712 55.2204 47.5106 53.0834 52.8217C50.9463 58.1327 50.3872 63.9769 51.4766 69.6151C52.5661 75.2533 55.2552 80.4323 59.204 84.4972C63.1528 88.5621 68.1838 91.3304 73.661 92.4519C79.1381 93.5734 84.8152 92.9978 89.9746 90.7979C95.1339 88.598 99.5436 84.8725 102.646 80.0927C105.749 75.3129 107.405 69.6933 107.405 63.9446C107.405 56.2359 104.43 48.8429 99.1347 43.3921C93.8396 37.9412 86.6578 34.8789 79.1694 34.8789Z" />
    <Path d="M80 0C64.1775 0 48.7103 4.69192 35.5544 13.4824C22.3985 22.2729 12.1447 34.7672 6.08967 49.3853C0.0346625 64.0034 -1.5496 80.0887 1.53721 95.6072C4.62403 111.126 12.2433 125.38 23.4315 136.568C34.6197 147.757 48.8743 155.376 64.3928 158.463C79.9113 161.55 95.9966 159.965 110.615 153.91C125.233 147.855 137.727 137.602 146.518 124.446C155.308 111.29 160 95.8225 160 80C159.976 58.7901 151.539 38.4558 136.542 23.4582C121.544 8.46051 101.21 0.0241984 80 0ZM125.669 131.006C125.555 123.51 122.501 116.36 117.165 111.095C111.829 105.83 104.639 102.871 97.1429 102.857H62.8572C55.3611 102.871 48.1705 105.83 42.8348 111.095C37.4991 116.36 34.4453 123.51 34.3315 131.006C23.969 121.753 16.6613 109.571 13.3762 96.0723C10.0911 82.574 10.9835 68.3962 15.9351 55.4163C20.8868 42.4364 29.6641 31.2667 41.105 23.3861C52.5459 15.5055 66.1105 11.2859 80.0029 11.2859C93.8952 11.2859 107.46 15.5055 118.901 23.3861C130.342 31.2667 139.119 42.4364 144.071 55.4163C149.022 68.3962 149.915 82.574 146.63 96.0723C143.344 109.571 136.037 121.753 125.674 131.006H125.669Z" />
  </Svg>
)

const BackArrowIcon = ({ fill, size }) => (
  <View style={[styles.backArrow, { width: size, height: size }]}>
    <Svg width={size / 2} height={size / 2} viewBox="0 0 62 52" stroke={fill}>
      <Path d="M17.6667 1.41699L1 16.8337L17.6667 32.2503" strokeWidth="5" strokeLinecap="round" strokeLinejoin="round" />
      <Path d="M1 16.834H27.6667C46.0767 16.834 61 30.6381 61 47.6673V50.7507" strokeWidth="5" strokeLinecap="round" strokeLinejoin="round" />
    </Svg>
  </View>
)

export const Header = ({ navigation }: NativeStackHeaderProps) => {
  const canGoBack = navigation.canGoBack()
  return (
    <View style={styles.container}>
      <Pressable onPress={() => canGoBack ? navigation.goBack() : navigation.navigate("Profile")}>
        {navigation.canGoBack()
          ? <BackArrowIcon fill="white" size={40} />
          : <UserIcon fill="white" size={40} />
        }
      </Pressable>
      <View>
        <Svg width={108} height={40} viewBox="0 0 470 174" fill="white">
          <Path d="M30.0417 40.881C38.6661 40.881 45.3261 43.085 50.0216 47.4931C54.7171 51.9011 57.0648 57.7465 57.0648 65.0294V113.326C57.0648 114.284 56.5857 114.763 55.6274 114.763H48.2967C47.3384 114.763 46.8593 114.284 46.8593 113.326V107.433C46.8593 107.241 46.7635 107.097 46.5718 107.002C46.476 106.906 46.3322 106.954 46.1406 107.145C43.7449 110.02 40.6306 112.224 36.7975 113.757C32.9644 115.195 28.7001 115.913 24.0046 115.913C17.2009 115.913 11.4992 114.189 6.89953 110.739C2.29984 107.289 0 102.019 0 94.9273C0 87.7403 2.58732 82.0865 7.76197 77.966C13.0324 73.7496 20.3153 71.6414 29.6105 71.6414H46.2843C46.6676 71.6414 46.8593 71.4498 46.8593 71.0665V65.6043C46.8593 60.7172 45.4698 56.8841 42.6908 54.1051C40.0077 51.2303 35.7913 49.7929 30.0417 49.7929C25.442 49.7929 21.7048 50.7033 18.83 52.524C15.9552 54.2489 14.1824 56.6925 13.5116 59.8547C13.2241 60.813 12.6491 61.2442 11.7867 61.1484L4.02472 60.1422C2.97063 59.9506 2.53941 59.5672 2.73106 58.9923C3.49768 53.626 6.37248 49.2659 11.3555 45.9119C16.3385 42.558 22.5672 40.881 30.0417 40.881ZM26.017 107.145C31.6708 107.145 36.5579 105.756 40.6785 102.977C44.799 100.102 46.8593 96.2689 46.8593 91.4776V80.2658C46.8593 79.8825 46.6676 79.6909 46.2843 79.6909H31.1916C24.8671 79.6909 19.7882 80.9845 15.9552 83.5719C12.1221 86.1592 10.2055 89.7527 10.2055 94.3524C10.2055 98.5687 11.643 101.779 14.5178 103.983C17.4884 106.091 21.3215 107.145 26.017 107.145Z" />
          <Path d="M123.148 43.4684C123.148 42.5101 123.627 42.0309 124.586 42.0309H131.916C132.875 42.0309 133.354 42.5101 133.354 43.4684V112.32C133.354 123.052 130.239 130.91 124.011 135.893C117.878 140.876 109.397 143.368 98.5687 143.368C96.3647 143.368 94.6877 143.32 93.5378 143.224C92.5795 143.128 92.1004 142.601 92.1004 141.643L92.3879 135.031C92.3879 134.552 92.5316 134.168 92.8191 133.881C93.1066 133.689 93.442 133.641 93.8253 133.737L97.7063 133.881C106.618 133.881 113.086 132.108 117.111 128.563C121.136 125.113 123.148 119.603 123.148 112.032V106.714C123.148 106.522 123.052 106.427 122.861 106.427C122.765 106.331 122.621 106.379 122.43 106.57C118.022 112.32 111.745 115.195 103.6 115.195C97.3709 115.195 91.8129 113.518 86.9257 110.164C82.1344 106.81 78.9242 102.066 77.2952 95.9335C76.1452 92.0046 75.5703 86.1592 75.5703 78.3972C75.5703 74.1808 75.6661 70.6352 75.8577 67.7604C76.1452 64.8856 76.6723 62.2983 77.4389 59.9985C79.1638 54.2489 82.2781 49.6492 86.782 46.1994C91.2859 42.6538 96.7001 40.881 103.025 40.881C111.553 40.881 118.022 43.7079 122.43 49.3617C122.621 49.5534 122.765 49.6013 122.861 49.5054C123.052 49.4096 123.148 49.2659 123.148 49.0742V43.4684ZM122.43 92.7712C122.717 91.3338 122.909 89.561 123.005 87.4529C123.1 85.3447 123.148 82.2782 123.148 78.2535C123.148 73.3663 123.1 70.1082 123.005 68.4791C122.909 66.7543 122.669 65.1731 122.286 63.7357C121.519 59.711 119.603 56.405 116.536 53.8176C113.566 51.1345 109.78 49.7929 105.181 49.7929C100.677 49.7929 96.8438 51.0866 93.6815 53.6739C90.6151 56.2612 88.459 59.6152 87.2132 63.7357C86.255 66.8022 85.7758 71.5935 85.7758 78.1097C85.7758 85.1051 86.255 89.9443 87.2132 92.6275C88.1715 96.6522 90.2318 100.006 93.3941 102.689C96.6522 105.277 100.581 106.57 105.181 106.57C109.876 106.57 113.709 105.277 116.68 102.689C119.746 100.102 121.663 96.796 122.43 92.7712Z" />
          <Path d="M188.779 42.0309C191.941 42.0309 190.441 41.9351 192.741 43.1809C193.508 43.5642 193.795 44.1871 193.603 45.0495L193.091 47.7806C191.174 48.2597 189.737 49.218 188.779 49.6971C187.832 50.1702 187.82 50.1762 185.904 50.6554L182.55 51.6136C177.759 52.0928 173.576 54.153 170.318 57.6986C167.059 61.1484 165.43 65.5564 165.43 70.9227V113.326C165.43 114.284 164.951 114.763 163.993 114.763H156.662C155.704 114.763 155.225 114.284 155.225 113.326L155.459 43.1809C155.459 42.2226 155.704 42.0309 156.662 42.0309H160.328L163.417 46.9624C164.376 46.9624 167.839 43.8818 167.839 44.84L165.43 52.2365C165.43 52.524 165.478 52.7156 165.574 52.8115C165.766 52.8115 165.909 52.7156 166.005 52.524C168.018 48.9784 170.859 46.966 173.926 45.0495C177.28 42.9533 184.658 42.0309 188.779 42.0309Z" />
          <Path d="M234.623 115.913C227.724 115.913 221.782 114.141 216.799 110.595C211.816 107.049 208.367 102.162 206.45 95.9335C205.109 91.5255 204.438 85.6321 204.438 78.2535C204.438 70.8748 205.109 65.0294 206.45 60.7172C208.271 54.5843 211.673 49.745 216.656 46.1994C221.639 42.6538 227.676 40.881 234.767 40.881C241.571 40.881 247.416 42.6538 252.303 46.1994C257.286 49.745 260.688 54.5363 262.509 60.5734C263.85 64.694 264.521 70.5873 264.521 78.2535C264.521 86.0154 263.85 91.9088 262.509 95.9335C260.688 102.162 257.286 107.049 252.303 110.595C247.416 114.141 241.523 115.913 234.623 115.913ZM234.623 107.002C239.223 107.002 243.152 105.756 246.41 103.264C249.668 100.677 251.872 97.2272 253.022 92.915C253.884 89.4652 254.316 84.626 254.316 78.3972C254.316 72.0727 253.932 67.2334 253.166 63.8795C252.016 59.5673 249.764 56.1654 246.41 53.6739C243.152 51.0866 239.175 49.7929 234.48 49.7929C229.784 49.7929 225.807 51.0866 222.549 53.6739C219.291 56.1654 217.087 59.5673 215.937 63.8795C215.17 67.2334 214.787 72.0727 214.787 78.3972C214.787 84.7218 215.17 89.561 215.937 92.915C216.991 97.2272 219.147 100.677 222.405 103.264C225.759 105.756 229.832 107.002 234.623 107.002Z" />
          <Path d="M315.394 41.0248C323.06 41.0248 329.145 43.2767 333.649 47.7806C338.249 52.2844 340.549 58.3215 340.549 65.8918V113.326C340.549 114.284 340.069 114.763 339.111 114.763H331.78C330.822 114.763 330.343 114.284 330.343 113.326V67.9042C330.343 62.6337 328.714 58.3215 325.456 54.9676C322.294 51.6136 318.173 49.9367 313.094 49.9367C307.824 49.9367 303.559 51.5657 300.301 54.8238C297.043 58.0819 295.414 62.3462 295.414 67.6167V113.326C295.414 114.284 294.935 114.763 293.977 114.763H286.646C285.688 114.763 285.209 114.284 285.209 113.326V43.4684C285.209 42.5101 285.688 42.0309 286.646 42.0309H293.977C294.935 42.0309 295.414 42.5101 295.414 43.4684V49.6492C295.414 49.8408 295.462 49.9846 295.558 50.0804C295.749 50.1762 295.893 50.1283 295.989 49.9367C300.205 43.9954 306.674 41.0248 315.394 41.0248Z" />
          <Path d="M417.482 66.1793C417.865 68.8625 418.057 72.2164 418.057 76.2411V80.8408C418.057 81.7991 417.578 82.2782 416.62 82.2782H370.192C369.808 82.2782 369.617 82.4699 369.617 82.8532C369.808 88.1236 370.096 91.5255 370.479 93.0587C371.533 97.3709 373.785 100.773 377.235 103.264C380.685 105.756 385.093 107.002 390.459 107.002C394.484 107.002 398.029 106.091 401.096 104.27C404.162 102.45 406.558 99.8624 408.283 96.5085C408.858 95.646 409.528 95.4544 410.295 95.9335L415.901 99.2395C416.668 99.7187 416.859 100.389 416.476 101.252C414.08 105.852 410.487 109.493 405.695 112.176C400.904 114.763 395.394 116.057 389.165 116.057C382.362 115.961 376.66 114.332 372.06 111.17C367.461 108.008 364.154 103.6 362.142 97.9459C360.417 93.3462 359.555 86.7341 359.555 78.1097C359.555 74.085 359.603 70.8269 359.699 68.3354C359.89 65.7481 360.273 63.4482 360.848 61.4359C362.478 55.2071 365.736 50.2241 370.623 46.4869C375.606 42.7497 381.595 40.881 388.59 40.881C397.311 40.881 404.018 43.085 408.714 47.4931C413.409 51.9011 416.332 58.1299 417.482 66.1793ZM388.59 49.7929C383.895 49.7929 379.966 51.0387 376.804 53.5302C373.737 55.9258 371.725 59.1839 370.767 63.3045C370.192 65.3169 369.808 68.575 369.617 73.0788C369.617 73.4621 369.808 73.6538 370.192 73.6538H407.42C407.804 73.6538 407.995 73.4621 407.995 73.0788C407.804 68.7666 407.516 65.7002 407.133 63.8795C406.079 59.5673 403.923 56.1654 400.664 53.6739C397.502 51.0866 393.477 49.7929 388.59 49.7929Z" />
          <Path d="M470 49.0742C470 50.0325 469.521 50.5116 468.563 50.5116H452.32C451.937 50.5116 451.745 50.7033 451.745 51.0866V93.4899C451.745 98.0896 452.751 101.348 454.764 103.264C456.872 105.085 460.13 105.995 464.538 105.995H468.131C469.09 105.995 469.569 106.474 469.569 107.433V113.326C469.569 114.284 469.09 114.763 468.131 114.763C466.981 114.859 465.209 114.907 462.813 114.907C455.913 114.907 450.691 113.614 447.145 111.026C443.6 108.439 441.827 103.648 441.827 96.6522V51.0866C441.827 50.7033 441.635 50.5116 441.252 50.5116H432.484C431.526 50.5116 431.046 50.0325 431.046 49.0742V43.4684C431.046 42.5101 431.526 42.0309 432.484 42.0309H441.252C441.635 42.0309 441.827 41.8393 441.827 41.456V24.7821C441.827 23.8239 442.306 23.3447 443.264 23.3447H450.308C451.266 23.3447 451.745 23.8239 451.745 24.7821V41.456C451.745 41.8393 451.937 42.0309 452.32 42.0309H468.563C469.521 42.0309 470 42.5101 470 43.4684V49.0742Z" />
          <Path fill-rule="evenodd" clip-rule="evenodd" d="M125.542 105.627C123.862 122.192 125.913 135.114 130.531 145.093C135.165 155.109 142.264 161.89 150.193 166.331C165.852 175.101 184.655 174.717 194.706 172.971L193.337 165.089C184.23 166.671 167.53 166.871 154.102 159.351C147.488 155.647 141.646 150.065 137.791 141.733C133.918 133.363 131.928 121.952 133.501 106.434L125.542 105.627Z" />
          <Line x1="160.501" y1="114.09" x2="158.625" y2="0.0906854" stroke="white" strokeWidth="11" />
          <Path d="M160.989 54.8719L171.725 34.0913C174.377 28.9589 178.82 24.9783 184.212 22.9045L185.169 22.5365C187.238 21.7407 189.436 21.3325 191.653 21.3325V21.3325H197.403H202.194H206.506" stroke="white" strokeWidth="10" />
          <Path d="M202.082 25.1133V30.0637C202.082 31.136 201.948 32.204 201.683 33.2429V33.2429C201.313 34.6899 200.694 36.0613 199.853 37.2955L199.208 38.2436V38.2436C198.573 39.1759 197.797 40.0044 196.909 40.6998L196.649 40.9032C196.12 41.3179 195.559 41.6911 194.972 42.0194L192.5 43.4019L190.104 44.3398L189.96 44.4104C188.782 44.9869 187.545 45.4349 186.271 45.7466V45.7466L181.103 47.2206" stroke="white" strokeWidth="9" />
        </Svg>
      </View>
    </View>
  )
}

const styles = StyleSheet.create({
  container: {
    paddingHorizontal: 30,
    paddingVertical: 20,
    backgroundColor: "#B1CC84",
    flexDirection: "row",
    justifyContent: "space-between",
    alignItems: "center",
  },
  backArrow: {
    borderRadius: 100,
    backgroundColor: "#8BB970",
    alignItems: 'center',
    justifyContent: "center",
  }
})